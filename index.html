<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jquery-loading Demo</title>

  <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="bower_components/highlightjs/styles/default.css" rel="stylesheet">
  <link href="dist/jquery.loading.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">

  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/randomColor/randomColor.js"></script>
  <script src="bower_components/highlightjs/highlight.pack.js"></script>
  <script src="dist/jquery.loading.js"></script>
</head>

<body>
  <div class="site-header">
    <div class="site-header-container">
      <h1 class="site-title">jquery-loading</h1>

      <div class="header-buttons">
        <p>
          <iframe src="http://ghbtns.com/github-btn.html?user=CarlosBonetti&type=follow&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="220" height="30"></iframe>
         <iframe src="http://ghbtns.com/github-btn.html?user=CarlosBonetti&repo=jquery-loading&type=watch&size=large&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="120" height="30"></iframe>
        </p>

        <p>
          <a href="https://github.com/CarlosBonetti/jquery-loading">Download on Github</a>
        </p>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h2 id="example">Example of usage</h2>

        <div class="row">

          <div class="col-md-6">
            <table class="table table-condensed" id="example-table">
              <thead>
                <tr>
                  <th>Year</th>
                  <th>Numbers</th>
                  <th>Status</th>
                  <th>Another</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>2013</td>
                  <td>23,789.23</td>
                  <td>Finished</td>
                  <td>Good</td>
                </tr>
                <tr>
                  <td>2014</td>
                  <td>19,990.11</td>
                  <td>Open</td>
                  <td>Bad</td>
                </tr>
                <tr>
                  <td>2015</td>
                  <td>8,123.42</td>
                  <td>Open</td>
                  <td>Ugly</td>
                </tr>
              </tbody>
            </table>

            <script>
              setInterval(function() {
                $('#example-table').loading('toggle');
              }, 2000);
            </script>
          </div>

          <div class="col-md-6">
<pre><code class="javascript">setInterval(function() {
  $('#example-table').loading('toggle');
}, 2000);</code></pre>

            <p><a href="#basic-methods">See more examples</a></p>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-8">
        <h2>Getting started</h2>
        <ol>
          <li>
            <p>Install from <a href="http://bower.io" target="_blank">bower</a>:</p>
            <pre><code class="no-highlight">$ bower install jquery-loading</code></pre>
            <p>Or download the <a href="https://github.com/CarlosBonetti/jquery-loading">source code on github</a>.</p>
          </li>

          <li>
            <p>Include jquery and jquery-loading in your page:</p>
        <pre><code class="html">&lt;script src="http://code.jquery.com/jquery-1.11.0.min.js"&gt;&lt;/script&gt;<br>&lt;script src="jquery.loading.js"&gt;&lt;/script&gt;</code></pre>
          </li>

          <li>
            <p>Call the plugin in the element you want to add the loading state:</p>
        <pre><code class="javascript">$("#some-element").loading();</code></pre>
          </li>
        </ol>
      </div>

      <div class="col-md-4">
        <h2>Motivation</h2>

        <p>The idea is to lock elements that are loading or working (in decorrence of an Ajax request, for example) while keeping the rest of the page available to the user.</p>

        <p>Jquery-loading does that by adding an overlay on top of the loading element.</p>

        <p>You can <a href="#customization">customize</a> this overlay however you want or don't use it at all and still have the <a href="#states-and-events">loading events management</a>. It's your call.</p>
      </div>
    </div>

    <div class="row">
      <h2 id="basic-methods">Basic methods</h2>

      <div class="example col-lg-4 col-md-6 col-sm-6">
        <h3>Starting</h3>

        <div id="loading-always" class="loading-div">
          This div is always loading
        </div>

  <script>
  $('#loading-always').loading();
  </script>
      </div>

      <div class="example col-lg-4 col-md-6 col-sm-6">
        <h3>Stopping</h3>

        <div id="loading-stop" class="loading-div clickable">
          This div will stop loading if you click it
        </div>

  <script>
  $('#loading-stop').loading({
    stoppable: true
  });
  </script>
      </div>

      <div class="example col-lg-4 col-md-6 col-sm-6">
        <h3>Toggling</h3>

        <div id="loading-toggle" class="loading-div">
          This div is toggling the loading state
        </div>

  <script>
  setInterval(function() {
    $('#loading-toggle').loading('toggle');
  }, 2000);
  </script>
      </div>
    </div>

    <!--
    <div class="row">
      <div class="col-lg-12">
        <h2 id="states-and-events">States and events</h2>
      </div>
    </div>


    <div class="row">
      <div class="col-lg-12">
        <h2>Selector</h2>
      </div>
    </div>-->

    <div class="row">
      <div class="col-lg-12">
        <h2 id="customization">Customization</h2>
      </div>
    </div>

    <div class="example col-lg-4 col-md-6 col-sm-6">
      <h3>Custom animation</h3>

      <div id="loading-custom-animation" class="loading-div">
        This div has a custom start / stop animation
      </div>

<script>
$('#loading-custom-animation').loading({
  onStart: function(loading) {
    loading.overlay.slideDown(400);
  },
  onStop: function(loading) {
    loading.overlay.slideUp(400);
  }
});

setInterval(function() {
  $('#loading-custom-animation').loading('toggle');
}, 2000);
</script>
    </div>

    <div class="example col-lg-4 col-md-6 col-sm-6">
      <h3>Themes</h3>

      <div id="loading-dark-theme" class="loading-div">
        This div has a different theme (dark)
      </div>

<script>
$('#loading-dark-theme').loading({
  theme: 'dark'
});
</script>
    </div>

    <div class="example col-lg-4 col-md-6 col-sm-6">
      <h3>Custom message</h3>

      <div id="loading-custom-message" class="loading-div">
        This div has a custom loading method
      </div>

<script>
$('#loading-custom-message').loading({
  message: 'Working...'
});
</script>
    </div>

    <div class="example col-lg-4 col-md-6 col-sm-6">
      <h3>Body loading</h3>

      <div>
        <button id="loading-body-btn" class="btn btn-primary btn-block">Click me to add a loading state to the page's body</button>
      </div>

<script>
$('#loading-body-btn').click(function() {
  $('body').loading({
    stoppable: true
  });
});
</script>
    </div>

    <div class="clearfix"></div>

    <h2>Full list of options</h2>

    <table class="table">
      <thead>
        <tr>
          <th>Option</th>
          <th>Default value</th>
          <th>Comments</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td><code>message</code></td>
          <td>Loading...</td>
          <td>Message to be rendered on the overlay content</td>
        </tr>

        <tr>
          <td><code>theme</code></td>
          <td>light</td>
          <td>Theme to be used for the <code>overlay</code> element. If this options is set to, e.g., <code>whatever</code> then the class <code>.loading-theme-whatever</code> will be applied to the overlay element</td>
        </tr>

        <tr>
          <td><code>stoppable</code></td>
          <td>false</td>
          <td>Setting this option to true will make the loading state be stopped if the overlay element is clicked by the user. This option does <strong><em>not</em></strong> override the <code>onClick</code> option</td>
        </tr>

        <tr>
          <td><code>onStart</code></td>
          <td><code>loading.overlay.fadeIn(150)</code></td>
          <td>Function to be executed when the loading state is started. Receives the loading object as parameter</td>
        </tr>

        <tr>
          <td><code>onStop</code></td>
          <td><code>loading.overlay.fadeOut(150)</code></td>
          <td>Function to be executed when the loading state is stopped. Receives the loading object as parameter</td>
        </tr>

        <tr>
          <td><code>onClick</code></td>
          <td>-</td>
          <td>Function to be executed when the overlay is clicked. Receives the loading object as parameter</td>
        </tr>

      </tbody>
    </table>

    <h2>Methods of Interest</h2>

    <table class="table">
      <thead>
        <tr>
          <th>Method</th>
          <th>Description</th>
          <th>Example</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td><code>resize</code></td>
          <td>
            Recalculate and apply new dimensions and position to the overlay, based on the state of the target element. Call this method if the the overlay is not being shown on the right position and/or dimensions.
          </td>
          <td>
            <code>$(...).loading('resize')</code>
          </td>
        </tr>

        <tr>
          <td><code>start</code></td>
          <td>
            Turn <strong>on</strong> the loading state of some element and trigger the <code>loading.start</code> event.
          </td>
          <td>
            <code>$(...).loading('start')</code>
          </td>
        </tr>

        <tr>
          <td><code>stop</code></td>
          <td>
            Turn <strong>off</strong> the loading state of some element and trigger the <code>loading.stop</code> event.
          </td>
          <td>
            <code>$(...).loading('stop')</code>
          </td>
        </tr>

        <tr>
          <td><code>toggle</code></td>
          <td>
            Turn <strong>on</strong> or <strong>off</strong> the loading state of some element, depending of the current state, and trigger the respective event.
          </td>
          <td>
            <code>$(...).loading('toggle')</code>
          </td>
        </tr>

        <tr>
          <td><code>$.Loading.setDefaults</code></td>
          <td>
            Extend the Loading plugin default options
          </td>
          <td>
            <code>$.Loading.setDefaults({ theme: 'blurred', message: 'Loadingdingdingding' })</code>
          </td>
        </tr>

        <tr>
          <td><code>:loading</code> selector</td>
          <td>
            Get the elements that are loading or check if some element is loading.<br>
          </td>
          <td>
            <code>$(':loading')</code> will return all the elements that are currently loading. <br>
            <code>$('#some-element').is(':loading')</code> will return whether the element is currently loading or not
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <footer class="container text-right">
    <a href="#">Top &uarr;</a>
  </footer>

  <script>
    $('.loading-div').each(function() {
      $(this).css('background-color', randomColor({
        luminosity: 'dark'
      }));
    });

    $('.example').each(function() {
      var scripts = $(this).find('script');
      if (scripts.length > 0) {
        var codeText = scripts.text().trim();

        var code = $('<pre><code class="javascript">' + codeText + '</code></pre>');
        $(this).append(code);
      }
    });

    hljs.initHighlightingOnLoad();

    // Dirty fix to force elements to resize since Hightlightjs mess up with overlay positionings
    // Working in a definitive fix...
    setTimeout(function() {
      $(':loading').loading('resize');
    }, 500);
  </script>
</body>
</html>
